<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hongshan.mapper.UserRelationMapper">

	<!-- 添加关系 -->
	<insert id="addUserRelation" parameterType="com.hongshan.pojo.UserRelation">
		INSERT INTO
		user_relation
		VALUES(
		#{user_relation_id},
		#{user_id},
		#{user_parent_id},
		#{createtime}
		);
	</insert>
	
	<!-- 修改关系 -->
	<update id="updateUserRelation" parameterType="com.hongshan.pojo.UserRelation">
		UPDATE user_relation SET
		user_id = #{user_id},
		user_parent_id = #{user_parent_id},
		WHERE user_relation_id = #{user_relation_id};
	</update>

	<!-- 多条件查询关系 -->
	<select id="selectUserRelationByMultiCondition" parameterType="com.hongshan.pojo.UserRelation"
		resultType="com.hongshan.pojo.UserRelation">
		SELECT * FROM user_relation
		<include refid="selectSQL" />
	</select>
	<sql id="selectSQL">
		<where>
			<if test="user_relation_id != null and user_relation_id != ''">
				AND user_relation_id = #{user_relation_id}
			</if>
			<if test="user_id != null and user_id != ''">
				AND user_id = #{user_id}
			</if>
			<if test="user_parent_id != null and user_parent_id != ''">
				AND user_parent_id = #{user_parent_id}
			</if>
			<if test="createtime != null and createtime != ''">
				AND createtime LIKE '${createtime}'
			</if>
		</where>
	</sql>

</mapper>